<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Components - Alpinejs-app Documentation</title>
    
    <meta name="description" content="A Simplest Single Page Application (SPA) library for Alpine.js." />
    
    
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>

    
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-start.html">Getting Started</a><ul class='members'><li data-type='method' style='display: none;'><a href="tutorial-start.html#installation">Installation</a></li><li data-type='method' style='display: none;'><a href="tutorial-start.html#first-app">First app</a></li></ul></li><li><a href="tutorial-components.html">Components</a><ul class='members'><li data-type='method' style='display: none;'><a href="tutorial-components.html#component-lifecycle-and-event-handling">Component Lifecycle and Event Handling</a></li><li data-type='method' style='display: none;'><a href="tutorial-components.html#event-emitter">Event emitter</a></li><li data-type='method' style='display: none;'><a href="tutorial-components.html#custom-elements">Custom Elements</a></li><li data-type='method' style='display: none;'><a href="tutorial-components.html#examples">Examples</a></li></ul></li><li><a href="tutorial-directives.html">Directives</a><ul class='members'><li data-type='method' style='display: none;'><a href="tutorial-directives.html#directive-x-template">Directive: **x-template**</a></li><li data-type='method' style='display: none;'><a href="tutorial-directives.html#directive-x-render">Directive: **x-render**</a></li><li data-type='method' style='display: none;'><a href="tutorial-directives.html#directive-x-scope-level">Directive: **x-scope-level**</a></li></ul></li><li><a href="tutorial-magics.html">Magics</a><ul class='members'><li data-type='method' style='display: none;'><a href="tutorial-magics.html#magic-app">Magic: **$app**</a></li><li data-type='method' style='display: none;'><a href="tutorial-magics.html#magic-component">Magic: **$component**</a></li><li data-type='method' style='display: none;'><a href="tutorial-magics.html#magic-parent">Magic: **$parent**</a></li><li data-type='method' style='display: none;'><a href="tutorial-magics.html#magic-params">Magic: **$params**</a></li></ul></li></ul><h3>Classes</h3><ul><li><a href="AlpineComponent.html">AlpineComponent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AlpineComponent.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="AlpineComponent.html#init">init</a></li></ul></li><li><a href="Component.html">Component</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Component.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Component.html#init">init</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="app.html">app</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$">$</a></li><li><a href="global.html#$all">$all</a></li><li><a href="global.html#$append">$append</a></li><li><a href="global.html#$attr">$attr</a></li><li><a href="global.html#$data">$data</a></li><li><a href="global.html#$elem">$elem</a></li><li><a href="global.html#$empty">$empty</a></li><li><a href="global.html#$event">$event</a></li><li><a href="global.html#$off">$off</a></li><li><a href="global.html#$on">$on</a></li><li><a href="global.html#$param">$param</a></li><li><a href="global.html#$parse">$parse</a></li><li><a href="global.html#$ready">$ready</a></li><li><a href="global.html#__">__</a></li><li><a href="global.html#afetch">afetch</a></li><li><a href="global.html#call">call</a></li><li><a href="global.html#emit">emit</a></li><li><a href="global.html#escape">escape</a></li><li><a href="global.html#fetch">fetch</a></li><li><a href="global.html#fetchOptions">fetchOptions</a></li><li><a href="global.html#forEach">forEach</a></li><li><a href="global.html#forEachSeries">forEachSeries</a></li><li><a href="global.html#hideAlert">hideAlert</a></li><li><a href="global.html#hideToast">hideToast</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isElement">isElement</a></li><li><a href="global.html#isFlag">isFlag</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#loadResources">loadResources</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#noop">noop</a></li><li><a href="global.html#off">off</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#once">once</a></li><li><a href="global.html#only">only</a></li><li><a href="global.html#parallel">parallel</a></li><li><a href="global.html#parsePath">parsePath</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#resolve">resolve</a></li><li><a href="global.html#restorePath">restorePath</a></li><li><a href="global.html#sanitizer">sanitizer</a></li><li><a href="global.html#savePath">savePath</a></li><li><a href="global.html#sendFile">sendFile</a></li><li><a href="global.html#series">series</a></li><li><a href="global.html#showAlert">showAlert</a></li><li><a href="global.html#showLogin">showLogin</a></li><li><a href="global.html#showToast">showToast</a></li><li><a href="global.html#split">split</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#stylePlugin">stylePlugin</a></li><li><a href="global.html#toCamel">toCamel</a></li><li><a href="global.html#toDate">toDate</a></li><li><a href="global.html#toDuration">toDuration</a></li><li><a href="global.html#toNumber">toNumber</a></li><li><a href="global.html#toPrice">toPrice</a></li><li><a href="global.html#toSize">toSize</a></li><li><a href="global.html#toTitle">toTitle</a></li><li><a href="global.html#trace">trace</a></li></ul>
    
</nav>

<div id="main">
    

    <section>

<header>
    
</header>

<article>
    <h1>Components</h1>
<h2>Component Lifecycle and Event Handling</h2>
<p>While Alpine.js has several ways how to reuse the data this app makes it more unified, it is opinionated of course.</p>
<p>Here is the life-cycle of a component:</p>
<ul>
<li>
<p>on creation a component calls <strong>onCreate</strong> method if exists. it can be created in derived class to implement custom initialization logic and create properties.
At this time the context is already initialized, the <strong>params</strong> property is set with parameters passed in the render call and event handler for <strong>component:event</strong> is registered on the app.</p>
</li>
<li>
<p>The <strong>component:create</strong> event is broadcasted with an object { name, element, params, component }</p>
</li>
<li>
<p>when a component is removed from the DOM <strong>onDelete</strong> method is called to cleanup resources like event handlers, timers...</p>
</li>
<li>
<p>app event <strong>component:event</strong> is sent to all live components, this can be used to broadcast important events happening and
each component will decide what to do with it. This is uses app event emitter instead of DOM events to keep it separate and not overload
browser with app specific messages.</p>
</li>
</ul>
<h3>Using the example from <a href="tutorial-start.html">Getting Started</a> tutorial:</h3>
<p>Add a new button to the index template:</p>
<pre class="prettyprint source lang-html"><code>&lt;button x-render=&quot;'hello2'&quot;>Say Hello2&lt;/button>
</code></pre>
<p>Introduce another component:</p>
<h3>hello.js</h3>
<pre class="prettyprint source lang-javascript"><code>    app.templates.hello2 = &quot;#hello&quot;

    app.components.hello2 = class extends app.components.hello {
        onCreate() {
            this.params.reason = &quot;Hello2 World&quot;
            this._timer = setInterval(() => { this.params.param1 = Date() }, 1000);
        }

        onDelete() {
            clearInterval(this._timer)
        }

        onToggle(data) {
            console.log(&quot;received toggle event:&quot;, data)
        }

        toggle() {
            super.toggle();
            app.emit(app.event, &quot;toggle&quot;, this.template)
        }
    }
</code></pre>
<p>Changes to the example from the <a href="tutorial-start.html">Getting Started</a> tutorial:</p>
<ul>
<li>A <strong>hello2</strong> template referencing existing <strong>hello</strong> for shared markup.</li>
<li>A new <strong>hello2</strong> component extending from <strong>hello</strong>, showcasing class inheritance.</li>
</ul>
<p>The <strong>hello2</strong> component takes advantage of the lifecycle methods to customize the behaviour:</p>
<ul>
<li><strong>onCreate</strong> sets up initialization like overriding reasons and running a timer.</li>
<li><strong>onDelete</strong> manages cleanup by stopping timers.</li>
<li><strong>toggle</strong> method reuses the toggling but adds broadcasting changes via events.</li>
</ul>
<p>For complete interaction, access live demo at the <a href="https://vseryakov.github.io/alpinejs-app/examples/index.html">index.html</a>.</p>
<h2>Event emitter</h2>
<p>The app implements very simple event emitter to handle internal messages separate from the DOM events.</p>
<p>There are predefined system events:</p>
<ul>
<li><strong>alpine:init</strong> - is sent on document alpine:init event from Alpine. Initializes custom elements at the moment, in case some components were loaded after
app and Alpine loaded it is necessary to emit it again via <strong>app.emit('alpine:init')</strong></li>
<li><strong>dom:changed</strong> - fired on start and on every resize or color scheme change, the event is an object: <strong>{ breakPoint, colorScheme }</strong> where
breakPoint is one of <strong>xs, sm, md, lg, xl, xxl</strong> and  colorScheme is one of <strong>dark, light</strong></li>
<li><strong>path:restore</strong> - is sent by the window <strong>popstate</strong> event from <strong>app.start</strong></li>
<li><strong>path:save</strong> - is sent by <strong>app.render</strong> for main components only</li>
<li><strong>path:push</strong> - is sent just before calling <strong>history.pushState</strong> with the path to be pushed</li>
<li><strong>component:create</strong> - is sent when a new component is created, { type, name, element, params }</li>
<li><strong>component:delete</strong> - is sent when a component is deleted, { type, name, element, params }</li>
<li><strong>component:event</strong> - a generic event defined in <strong>app.event</strong> is received by every live component and is handled by <strong>onEvent(...)</strong> method if exist.
Then convert the first string argument into camel format like <strong>onFirstArg(...)</strong> and call this method if exists</li>
</ul>
<h2>Custom Elements</h2>
<p>Component classes are registered as Custom Elements with <strong>app-</strong> prefix,</p>
<p>using the example above hello component can be placed inside HTML as <strong><app-hello></app-hello></strong>.</p>
<p>See also how the <a href="examples/dropdown.js">dropdown</a> component is implemented.</p>
<h2>Examples</h2>
<p>The examples/ folder contains more components to play around and a bundle.sh script to show a simple way of bundling components together.</p>
<h3>Simple CDN bundled example: <a href="examples/index.html">index.html</a></h3>
<p>An example to show very simple way to bundle .html and .js files into a single file as
CDN bundle, i.e. window.app is global with all methods in it.</p>
<p>To run live example do <code>npm run watch</code>.</p>
<p>Then go to http://localhost:8090/ to see the example with router and external rendering.</p>
<h3>Esbuild app plugin</h3>
<p>The <strong>scripts/esbuild-app.js</strong> script is an <strong>esbuild</strong> plugin that bundles multiple .js and .html files to be used by the app.</p>
<p>Running <code>node build.js</code> in the examples folder will generate the <strong>bundle.js</strong> which includes all .js and .html files used by the index.html</p>
<h3>Using as NPM module for ESM bundles</h3>
<pre class="prettyprint source lang-bash"><code>npm install @vseryakov/alpinejs-app alpinejs
</code></pre>
<pre class="prettyprint source lang-js"><code>import Alpine from &quot;alpinejs&quot;;
import { AlpinePlugin } from &quot;alpinejs-app&quot;;

Alpine.plugin(AlpinePlugin);

window.Alpine = Alpine;
window.Alpine.start();
</code></pre>
</article>

</section>

    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> using the <a href="https://github.com/vseryakov/docdash">docdash</a> theme.
</footer>


<script src="scripts/search.js" defer></script>



<script src="scripts/collapse.js" defer></script>



</body>
</html>