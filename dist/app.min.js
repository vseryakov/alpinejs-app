(()=>{var at=Object.defineProperty;var ct=(t,e)=>{for(var r in e)at(t,r,{get:e[r],enumerable:!0})};var K={};ct(K,{$:()=>_,$all:()=>dt,$append:()=>F,$attr:()=>ht,$data:()=>yt,$elem:()=>I,$empty:()=>M,$event:()=>lt,$off:()=>R,$on:()=>$,$param:()=>mt,$parse:()=>rt,$ready:()=>q,AlpineComponent:()=>k,AlpinePlugin:()=>U,Component:()=>D,__:()=>X,afetch:()=>_t,app:()=>a,call:()=>u,default:()=>Ot,emit:()=>y,escape:()=>tt,fetch:()=>N,fetchOptions:()=>S,isArray:()=>Y,isElement:()=>x,isFunction:()=>p,isNumber:()=>Z,isObject:()=>g,isString:()=>c,log:()=>V,noop:()=>Q,off:()=>W,on:()=>w,once:()=>pt,only:()=>ut,parsePath:()=>T,register:()=>A,render:()=>j,resolve:()=>P,restorePath:()=>B,savePath:()=>ot,start:()=>$t,stylePlugin:()=>xt,toCamel:()=>E,trace:()=>l});var a={base:"/app/",$target:"#app-main",index:"index",event:"component:event",templates:{},components:{},isF:p,isS:c,isE:x,isO:g,isN:Z,isA:Y,toCamel:E,call:u,escape:tt,noop:Q,log:V,trace:l,__:X};function Q(){}function l(...t){a.debug&&a.log(...t)}function V(...t){console.log(...t)}function X(...t){return t.join("")}function Y(t,e){return Array.isArray(t)&&t.length?t:e}function Z(t){return typeof t=="number"?t:void 0}function c(t){return typeof t=="string"&&t}function p(t){return typeof t=="function"&&t}function g(t){return typeof t=="object"&&t}function x(t){return t instanceof HTMLElement&&t}function E(t){return c(t)?t.toLowerCase().replace(/[.:_-](\w)/g,(e,r)=>r.toUpperCase()):""}function u(t,e,...r){if(p(t))return t(e,...r);if(typeof t=="object"){if(p(e))return e.call(t,...r);if(t&&p(t[e]))return t[e].call(t,...r)}}var ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function tt(t){return typeof t!="string"?"":t.replace(/([&<>'":])/g,(e,r)=>ft[r]||r)}var h={};function w(t,e,r){p(e)&&(h[t]||(h[t]=[]),h[t].push([e,c(r)]))}function pt(t,e,r){if(!p(e))return;let n=(...i)=>{W(t,n),e(...i)};w(t,n,r)}function ut(t,e,r){h[t]=p(e)?[e,c(r)]:[]}function W(t,e){if(t&&e){if(!h[t])return;let r=p(e)?0:c(e)?1:-1;r>=0&&(h[t]=h[t].filter(n=>n[r]!==e))}else if(c(t))for(let r in h)h[r]=h[r].filter(n=>n[1]!==t)}function y(t,...e){if(l("emit:",t,...e,a.debug>1&&h[t]),h[t])for(let r of h[t])r[0](...e);else if(c(t)&&t.endsWith(":*")){t=t.slice(0,-1);for(let r in h)if(r.startsWith(t))for(let n of h[r])n[0](...e)}}function mt(t,e){return new URLSearchParams(location.search).get(t)||e||""}var et=t=>t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`);function _(t,e){return c(t)?(x(e)||document).querySelector(et(t)):null}function dt(t,e){return c(t)?(x(e)||document).querySelectorAll(et(t)):null}function lt(t,e,r={}){return t instanceof EventTarget&&t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function $(t,e,r,...n){return p(r)&&t.addEventListener(e,r,...n)}function R(t,e,r,...n){return p(r)&&t.removeEventListener(e,r,...n)}function ht(t,e,r){if(c(t)&&(t=_(t)),!!x(t))return r===void 0?t.getAttribute(e):r===null?t.removeAttribute(e):t.setAttribute(e,r)}function M(t,e){if(c(t)&&(t=_(t)),!!x(t)){for(;t.firstChild;){let r=t.firstChild;r.remove(),u(e,r)}return t}}function I(t,...e){var r=document.createElement(t),n,i,o;g(e[0])&&(e=Object.entries(e[0]).flatMap(s=>s),o=e[1]);for(let s=0;s<e.length-1;s+=2)n=e[s],i=e[s+1],c(n)&&(p(i)?$(r,n,i,{capture:o?.capture,passive:o?.passive,once:o?.once,signal:o?.signal}):n.startsWith("-")?r.style[n.substr(1)]=i:n.startsWith(".")?r[n.substr(1)]=i:n.startsWith("data-")?r.dataset[E(n.substr(5))]=i:n=="text"?r.textContent=i||"":i!==null&&r.setAttribute(n,i??""));return r}function rt(t,e){return t=new window.DOMParser().parseFromString(t||"","text/html"),e==="doc"?t:e==="list"?Array.from(t.body.childNodes):t.body}function F(t,e,r){if(c(t)&&(t=_(t)),!x(t))return;let n;if(c(e))n=rt(e,"doc");else if(e?.content?.nodeType==11)n={body:e.content.cloneNode(!0)};else return t;let i;for(;i=n.head?.firstChild;)t.appendChild(i);for(;i=n.body.firstChild;)t.appendChild(i),r&&i.nodeType==1&&u(r,i);return t}var O=[];function q(t){if(O.push(t),document.readyState!="loading")for(;O.length;)setTimeout(u,0,O.shift())}$(window,"DOMContentLoaded",()=>{for(;O.length;)setTimeout(u,0,O.shift())});function H(){var t=document.documentElement.clientWidth;y("dom:changed",{breakPoint:t<576?"xs":t<768?"sm":t<992?"md":t<1200?"lg":t<1400?"xl":"xxl",colorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})}q(()=>{H(),$(window.matchMedia("(prefers-color-scheme: dark)"),"change",H);var t;$(window,"resize",()=>{clearTimeout(t),t=setTimeout(H,250)})});var v={},nt;function A(t,e){if(!t||!c(t))throw Error("type must be defined");if(e){for(let n of["render","cleanup","data"])if(e[n]&&!p(e[n]))throw Error(n+" must be a function");p(e?.Component)&&(a[E(`_${t}_component`)]=e.Component)}var r=v[t]=v[t]||{};return e?.default&&(nt=r),Object.assign(r,e)}function yt(t,e){c(t)&&(t=_(t));for(let r in v){if(!v[r].data)continue;let n=v[r].data(t,e);if(n)return n}}function P(t,e){let r=T(t);l("resolve:",t,e,r);var n=r?.name,i=a.templates,o=a.components,s=r.template||i[n]||document.getElementById(n);if(!s&&e&&(s=i[e]||document.getElementById(e),s&&(r.name=e)),c(s)&&s.startsWith("#")?s=document.getElementById(r.otemplate=s.substr(1)):c(s)&&s.startsWith("$")&&(s=i[r.otemplate=s.substr(1)]),!!s){r.template=s;var f=o[n]||o[r.name];return c(f)&&(f=o[r.ocomponent=f]),r.component=f,r}}function j(t,e){var r=P(t,e);if(!r)return;var n=r.params=Object.assign(r.params||{},t?.params);n.$target=t.$target||n.$target||a.$target,l("render:",t,r.name,r.params);let i=x(n.$target)||_(n.$target);if(i){var o=r.component?.$type||t?.plugin||n.$plugin;if(o=v[o]||nt,!!o?.render){if(n.$target==a.$target){var s={name:r.name,params:n};if(y(a.event,"prepare:delete",s),s.stop)return;var f=Object.values(v);for(let d of f.filter(m=>m.cleanup))u(d.cleanup,i);t?.$nohistory||n.$nohistory||r.component?.$nohistory||a.$nohistory||queueMicrotask(()=>{y("path:save",r)})}return y("component:render",r),o.render(i,r),r}}}function xt(t){p(t)&&it.push(t)}var it=[];function gt(t){if(t instanceof HTMLElement)for(let e of it)e(t)}w("alpine:init",()=>{for(let t in v)u(v[t],"init");w("component:create",t=>{x(t?.element)&&gt(t.element)})});function T(t){var e={name:"",params:{}},r,n=window.location;if(g(t))return Object.assign(e,t);if(!c(t))return e;var i=a.base;t.startsWith(n.origin)&&(t=t.substr(n.origin.length)),t.includes("://")&&(t=t.replace(/^(.*:\/\/[^/]*)/,"")),t.startsWith(i)&&(t=t.substr(i.length)),t.startsWith("/")&&(t=t.substr(1)),t==i.slice(1,-1)&&(t="");let o=t.indexOf("?");if(o>0&&(r=t.substr(o+1,1024),e.name=t=t.substr(0,o)),t.endsWith(".html")&&(t=t.slice(0,-5)),t.includes("/")){t=t.split("/").slice(0,7),e.name=t.shift();for(let s=0;s<t.length;s++)t[s]&&(e.params[`param${s+1}`]=t[s])}else e.name=t||"";if(r)for(let[s,f]of new URLSearchParams(r).entries())e.params[s]=f;return e}function ot(t){if(c(t)&&(t={name:t}),!!t?.name){var e=[t.name];if(t?.params)for(let r=1;r<7;r++)e.push(t.params[`param${r}`]||"");for(;!e.at(-1);)e.length--;e=e.join("/"),l("savePath:",e,t),e&&(y("path:push",window.location.origin+a.base+e),window.history.pushState(null,"",window.location.origin+a.base+e))}}function B(t){l("restorePath:",t,a.index),j(t,a.index)}function $t(){w("path:save",ot),w("path:restore",B),q(B.bind(a,window.location.href))}$(window,"popstate",()=>y("path:restore",window.location.href));var S={method:"GET",cache:"default",headers:{}};function wt(t,e){let r=e?.headers||{},n=Object.assign({headers:r,method:e?.method||e?.post&&"POST"||void 0},e?.request);for(let o in S.headers)r[o]??=S.headers[o];for(let o of["method","cache","credentials","duplex","integrity","keepalive","mode","priority","redirect","referrer","referrerPolicy","signal"])S[o]!==void 0&&(n[o]??=S[o]);var i=e?.body;return n.method=="GET"||n.method=="HEAD"?g(i)&&(t+="?"+new URLSearchParams(i).toString()):c(i)?(n.body=i,r["content-type"]??="application/x-www-form-urlencoded; charset=UTF-8"):i instanceof FormData?(n.body=i,delete r["content-type"]):g(i)?(n.body=JSON.stringify(i),r["content-type"]="application/json; charset=UTF-8"):i&&(n.body=i,r["content-type"]??="application/octet-stream"),[t,n]}function bt(t){let e={status:t.status,headers:{},type:t.type,url:t.url,redirected:t.redirected};for(let i of t.headers)e.headers[i[0].toLowerCase()]=i[1];let r=S.csrfHeader||"x-csrf-token",n=e?.headers[r];return n&&(n<=0?delete S.headers[r]:S.headers[r]=n),e}function N(t,e,r){p(e)&&(r=e,e=null);try{let[n,i]=wt(t,e);l("fetch:",n,i,e),window.fetch(n,i).then(async o=>{var s,f,d=bt(o);if(!o.ok){if(/\/json/.test(d.headers["content-type"])){let m=await o.json();s={status:o.status};for(let L in m)s[L]=m[L]}else s={message:await o.text(),status:o.status};return u(r,s,f,d)}switch(e?.dataType){case"text":f=await o.text();break;case"blob":f=await o.blob();break;default:f=/\/json/.test(d.headers["content-type"])?await o.json():await o.text()}u(r,null,f,d)}).catch(o=>{u(r,o)})}catch(n){u(r,n)}}function _t(t,e){return new Promise((r,n)=>{N(t,e,(i,o,s)=>{r({ok:!i,status:s.status,err:i,data:o,info:s})})})}var z=class{params={};constructor(e,r){this.$name=e,Object.assign(this.params,r),this._handleEvent=vt.bind(this),this._onCreate=this.onCreate||null,this._onDelete=this.onDelete||null}init(e){l("init:",this.$type,this.$name),Object.assign(this.params,e),y("component:create",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),this.params.$noevents||w(a.event,this._handleEvent),u(this._onCreate?.bind(this,this.params))}destroy(){l("destroy:",this.$type,this.$name),W(a.event,this._handleEvent),y("component:delete",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),u(this._onDelete?.bind(this)),this.params={},delete this.$root}};function vt(t,...e){if(this.onEvent&&(l("event:",this.$type,this.$name,t,...e),u(this.onEvent?.bind(this.$data||this),t,...e)),!!c(t)){var r=E("on_"+t);this[r]&&(l("event:",this.$type,this.$name,r,...e),u(this[r]?.bind(this.$data||this),...e))}}var D=z;var C="alpine",b,k=class extends D{static $type=C;constructor(e,r){super(e,r),this.$type=C}init(){super.init(this.$root.parentElement._x_params)}},G=class extends HTMLElement{connectedCallback(){queueMicrotask(()=>{J(this,this.localName.substr(4))})}};function J(t,e){if(!(c(e)&&(e=P(e),!e))){if(M(t),t._x_params=Object.assign({},e.params),b.onElRemoved(t,()=>{delete t._x_params}),!e.component)b.mutateDom(()=>{F(t,e.template,b.initTree)});else{b.data(e.name,()=>new e.component(e.name));let r=I("div","x-data",e.name);F(r,e.template),b.mutateDom(()=>{t.appendChild(r),b.initTree(r)})}return e}}function Et(t,e){if(x(t)||(t=_(a.$target+" div")),!!t)return typeof e=="number"?t._x_dataStack?.at(e):b.closestDataStack(t)[0]}function St(){for(let[t,e]of Object.entries(a.components)){let r=`app-${e?.$tag||t}`;e?.$type!=C||customElements.get(r)||(customElements.define(r,class extends G{}),b.data(t,()=>new e(t)))}}function st(t,e,r,n){let i=r.includes("cache"),o={post:r.includes("post")};!e.url&&!(!i&&/^(https?:\/\/|\/|.+\.html(\?|$)).+/.test(e))&&n(t,e)||N(e,o,(s,f,d)=>{if(s||!c(f))return console.warn("$render: Text expected from",e,"got",s,f);let m=c(e)?T(e):e;m.template=f,m.name=m.params?.$name||m.name,i&&(a.templates[m.name]=f),n(t,m)})}function Ct(t,e,r){let n={},i=o=>{for(let f=0;f<r.length;f++){let d=r[f];switch(d){case"params":var s=b.$data(t);if(!g(s[r[f+1]]))break;o.params=Object.assign(s[r[f+1]],o.params);break;case"inline":n.inline="inline-block";break;default:n[d]=d}}return o};st(t,e,r,(o,s)=>{if(s=P(s),!!s&&J(o,i(s)))return n.show&&(n.nonempty&&!o.firstChild?o.style.setProperty("display","none",n.important):o.style.setProperty("display",n.flex||n.inline||"block",n.important)),!0})}A(C,{render:J,Component:k,data:Et,init:St,default:1});function U(t){b=t,y("alpine:init"),t.magic("app",e=>a),t.magic("params",e=>{for(;e;){if(e._x_params)return e._x_params;e=e.parentElement}}),t.magic("component",e=>t.closestDataStack(e).find(r=>r.$type==C&&r.$name)),t.magic("parent",e=>t.closestDataStack(e).filter(r=>r.$type==C&&r.$name)[1]),t.directive("render",(e,{modifiers:r,expression:n},{evaluate:i,cleanup:o})=>{let s=f=>{let d=i(n);d&&(f.preventDefault(),r.includes("stop")&&f.stopPropagation(),st(e,d,r,(m,L)=>j(L)))};$(e,"click",s),e.style.cursor="pointer",o(()=>{R(e,"click",s)})}),t.directive("template",(e,{modifiers:r,expression:n},{effect:i,cleanup:o})=>{let s=t.evaluateLater(e,n);var f;let d=()=>{f=null,t.mutateDom(()=>{M(e,m=>t.destroyTree(m)),r.includes("show")&&e.style.setProperty("display","none",r.includes("important")?"important":void 0)})};i(()=>s(m=>{if(!m)return d();m!==f&&Ct(e,m,r),f=m})),o(d)}),t.directive("scope-level",(e,{expression:r},{evaluate:n})=>{let i=t.closestDataStack(e);e._x_dataStack=i.slice(0,parseInt(n(r||""))||0)})}a.Component=D;var Ot=a;Object.assign(a,K);window.app=a;$(document,"alpine:init",()=>{U(Alpine)});})();
