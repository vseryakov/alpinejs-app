(()=>{var Z=Object.defineProperty;var tt=(t,e)=>{for(var n in e)Z(t,n,{get:e[n],enumerable:!0})};var I={};tt(I,{$:()=>E,$all:()=>dt,$append:()=>D,$attr:()=>pt,$data:()=>mt,$elem:()=>z,$empty:()=>W,$event:()=>lt,$off:()=>B,$on:()=>w,$param:()=>ut,$parse:()=>G,$ready:()=>M,AlpineComponent:()=>X,AlpinePlugin:()=>R,Component:()=>U,afetch:()=>bt,app:()=>c,default:()=>Pt,emit:()=>y,fetch:()=>N,fetchOptions:()=>v,off:()=>L,on:()=>_,once:()=>ct,only:()=>ft,parsePath:()=>F,register:()=>K,render:()=>q,resolve:()=>T,restorePath:()=>k,savePath:()=>V,start:()=>gt,stylePlugin:()=>ht});var c={base:"/app/",$target:"#app-main",index:"index",event:"component:event",templates:{},components:{},isF:m,isS:f,isE:b,isO:x,isN:at,isA:it,toCamel:O,call:p,escape:ot,noop:et,log:nt,trace:g,__:rt};function et(){}function g(...t){c.debug&&c.log(...t)}function nt(...t){console.log(...t)}function rt(...t){return t.join("")}function it(t,e){return Array.isArray(t)&&t.length?t:e}function at(t){return typeof t=="number"?t:void 0}function f(t){return typeof t=="string"&&t}function m(t){return typeof t=="function"&&t}function x(t){return typeof t=="object"&&t}function b(t){return t instanceof HTMLElement&&t}function O(t){return f(t)?t.toLowerCase().replace(/[.:_-](\w)/g,(e,n)=>n.toUpperCase()):""}function p(t,e,...n){if(m(t))return t(e,...n);if(typeof t=="object"){if(m(e))return e.call(t,...n);if(t&&m(t[e]))return t[e].call(t,...n)}}var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function ot(t){return typeof t!="string"?"":t.replace(/([&<>'":])/g,(e,n)=>st[n]||n)}var l={};function _(t,e,n){m(e)&&(l[t]||(l[t]=[]),l[t].push([e,f(n)]))}function ct(t,e,n){if(!m(e))return;let r=(...i)=>{L(t,r),e(...i)};_(t,r,n)}function ft(t,e,n){l[t]=m(e)?[e,f(n)]:[]}function L(t,e){if(t&&e){if(!l[t])return;let n=m(e)?0:f(e)?1:-1;n>=0&&(l[t]=l[t].filter(r=>r[n]!==e))}else if(f(t))for(let n in l)l[n]=l[n].filter(r=>r[1]!==t)}function y(t,...e){if(g("emit:",t,...e,c.debug>1&&l[t]),l[t])for(let n of l[t])n[0](...e);else if(f(t)&&t.endsWith(":*")){t=t.slice(0,-1);for(let n in l)if(n.startsWith(t))for(let r of l[n])r[0](...e)}}function ut(t,e){return new URLSearchParams(location.search).get(t)||e||""}var A=t=>t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`);function E(t,e){return f(t)?(b(e)||document).querySelector(A(t)):null}function dt(t,e){return f(t)?(b(e)||document).querySelectorAll(A(t)):null}function lt(t,e,n={}){return t instanceof EventTarget&&t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function w(t,e,n,...r){return m(n)&&t.addEventListener(e,n,...r)}function B(t,e,n,...r){return m(n)&&t.removeEventListener(e,n,...r)}function pt(t,e,n){if(f(t)&&(t=E(t)),!!b(t))return n===void 0?t.getAttribute(e):n===null?t.removeAttribute(e):t.setAttribute(e,n)}function W(t,e){if(f(t)&&(t=E(t)),!!b(t)){for(;t.firstChild;){let n=t.firstChild;n.remove(),p(e,n)}return t}}function z(t,...e){var n=document.createElement(t),r,i,a;x(e[0])&&(e=Object.entries(e[0]).flatMap(s=>s),a=e[1]);for(let s=0;s<e.length-1;s+=2)r=e[s],i=e[s+1],f(r)&&(m(i)?w(n,r,i,{capture:a?.capture,passive:a?.passive,once:a?.once,signal:a?.signal}):r.startsWith("-")?n.style[r.substr(1)]=i:r.startsWith(".")?n[r.substr(1)]=i:r.startsWith("data-")?n.dataset[O(r.substr(5))]=i:r=="text"?n.textContent=i||"":i!==null&&n.setAttribute(r,i??""));return n}function G(t,e){return t=new window.DOMParser().parseFromString(t||"","text/html"),e==="doc"?t:e==="list"?Array.from(t.body.childNodes):t.body}function D(t,e,n){if(f(t)&&(t=E(t)),!b(t))return;let r;if(f(e))r=G(e,"doc");else if(e?.content?.nodeType==11)r={body:e.content.cloneNode(!0)};else return t;let i;for(;i=r.head?.firstChild;)t.appendChild(i);for(;i=r.body.firstChild;)t.appendChild(i),n&&i.nodeType==1&&p(n,i);return t}var S=[];function M(t){if(S.push(t),document.readyState!="loading")for(;S.length;)setTimeout(p,0,S.shift())}w(window,"DOMContentLoaded",()=>{for(;S.length;)setTimeout(p,0,S.shift())});function j(){var t=document.documentElement.clientWidth;y("dom:changed",{breakPoint:t<576?"xs":t<768?"sm":t<992?"md":t<1200?"lg":t<1400?"xl":"xxl",colorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})}M(()=>{j(),w(window.matchMedia("(prefers-color-scheme: dark)"),"change",j);var t;w(window,"resize",()=>{clearTimeout(t),t=setTimeout(j,250)})});var $={},J;function K(t,e){if(!t||!f(t))throw Error("type must be defined");if(e){for(let r of["render","cleanup","data"])if(e[r]&&!m(e[r]))throw Error(r+" must be a function");m(e?.Component)&&(c[O(`_${t}_component`)]=e.Component)}var n=$[t]=$[t]||{};return e?.default&&(J=n),Object.assign(n,e)}function mt(t,e){f(t)&&(t=E(t));for(let n in $){if(!$[n].data)continue;let r=$[n].data(t,e);if(r)return r}}function T(t,e){let n=F(t);g("resolve:",t,e,n);var r=n?.name,i=c.templates,a=c.components,s=n.template||i[r]||document.getElementById(r);if(!s&&e&&(s=i[e]||document.getElementById(e),s&&(n.name=e)),f(s)&&s.startsWith("#")?s=document.getElementById(n.otemplate=s.substr(1)):f(s)&&s.startsWith("$")&&(s=i[n.otemplate=s.substr(1)]),!!s){n.template=s;var o=a[r]||a[n.name];return f(o)&&(o=a[n.ocomponent=o]),n.component=o,n}}function q(t,e){var n=T(t,e);if(!n)return;var r=n.params=Object.assign(n.params||{},t?.params);r.$target=t.$target||r.$target||c.$target,g("render:",t,n.name,n.params);let i=b(r.$target)||E(r.$target);if(i){var a=n.component?.$type||t?.plugin||r.$plugin;if(a=$[a]||J,!!a?.render){if(r.$target==c.$target){var s={name:n.name,params:r};if(y(c.event,"prepare:delete",s),s.stop)return;var o=Object.values($);for(let d of o.filter(u=>u.cleanup))p(d.cleanup,i);t?.$nohistory||r.$nohistory||n.component?.$nohistory||c.$nohistory||queueMicrotask(()=>{y("path:save",n)})}return y("component:render",n),a.render(i,n),n}}}function ht(t){m(t)&&Q.push(t)}var Q=[];function yt(t){if(t instanceof HTMLElement)for(let e of Q)e(t)}_("alpine:init",()=>{for(let t in $)p($[t],"init");_("component:create",t=>{b(t?.element)&&yt(t.element)})});function F(t){var e={name:"",params:{}},n,r=window.location;if(x(t))return Object.assign(e,t);if(!f(t))return e;var i=c.base;t.startsWith(r.origin)&&(t=t.substr(r.origin.length)),t.includes("://")&&(t=t.replace(/^(.*:\/\/[^/]*)/,"")),t.startsWith(i)&&(t=t.substr(i.length)),t.startsWith("/")&&(t=t.substr(1)),t==i.slice(1,-1)&&(t="");let a=t.indexOf("?");if(a>0&&(n=t.substr(a+1,1024),e.name=t=t.substr(0,a)),t.endsWith(".html")&&(t=t.slice(0,-5)),t.includes("/")){t=t.split("/").slice(0,7),e.name=t.shift();for(let s=0;s<t.length;s++)t[s]&&(e.params[`param${s+1}`]=t[s])}else e.name=t||"";if(n)for(let[s,o]of new URLSearchParams(n).entries())e.params[s]=o;return e}function V(t){if(f(t)&&(t={name:t}),!!t?.name){var e=[t.name];if(t?.params)for(let n=1;n<7;n++)e.push(t.params[`param${n}`]||"");for(;!e.at(-1);)e.length--;e=e.join("/"),g("savePath:",e,t),e&&(y("path:push",window.location.origin+c.base+e),window.history.pushState(null,"",window.location.origin+c.base+e))}}function k(t){g("restorePath:",t,c.index),q(t,c.index)}function gt(){_("path:save",V),_("path:restore",k),M(k.bind(c,window.location.href))}w(window,"popstate",()=>y("path:restore",window.location.href));var v={method:"GET",cache:"default",headers:{}};function $t(t,e){let n=e?.headers||{},r=Object.assign({headers:n,method:e?.method||e?.post&&"POST"||void 0},e?.request);for(let a in v.headers)n[a]??=v.headers[a];for(let a of["method","cache","credentials","duplex","integrity","keepalive","mode","priority","redirect","referrer","referrerPolicy","signal"])v[a]!==void 0&&(r[a]??=v[a]);var i=e?.body;return r.method=="GET"||r.method=="HEAD"?x(i)&&(t+="?"+new URLSearchParams(i).toString()):f(i)?(r.body=i,n["content-type"]??="application/x-www-form-urlencoded; charset=UTF-8"):i instanceof FormData?(r.body=i,delete n["content-type"]):x(i)?(r.body=JSON.stringify(i),n["content-type"]="application/json; charset=UTF-8"):i&&(r.body=i,n["content-type"]??="application/octet-stream"),[t,r]}function wt(t){let e={status:t.status,headers:{},type:t.type,url:t.url,redirected:t.redirected};for(let i of t.headers)e.headers[i[0].toLowerCase()]=i[1];let n=v.csrfHeader||"x-csrf-token",r=e?.headers[n];return r&&(r<=0?delete v.headers[n]:v.headers[n]=r),e}function N(t,e,n){m(e)&&(n=e,e=null);try{let[r,i]=$t(t,e);c.trace("fetch:",r,i,e),window.fetch(r,i).then(async a=>{var s,o,d=wt(a);if(!a.ok){if(/\/json/.test(d.headers["content-type"])){let u=await a.json();s={status:a.status};for(let P in u)s[P]=u[P]}else s={message:await a.text(),status:a.status};return p(n,s,o,d)}switch(e?.dataType){case"text":o=await a.text();break;case"blob":o=await a.blob();break;default:o=/\/json/.test(d.headers["content-type"])?await a.json():await a.text()}p(n,null,o,d)}).catch(a=>{p(n,a)})}catch(r){p(n,r)}}function bt(t,e){return new Promise((n,r)=>{N(t,e,(i,a,s)=>{n({ok:!i,status:s.status,err:i,data:a,info:s})})})}var vt=class{params={};constructor(t,e){this.$name=t,Object.assign(this.params,e),this._handleEvent=_t.bind(this),this._onCreate=this.onCreate||null,this._onDelete=this.onDelete||null}init(t){g("init:",this.$type,this.$name),Object.assign(this.params,t),y("component:create",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),this.params.$noevents||_(c.event,this._handleEvent),p(this._onCreate?.bind(this,this.params))}destroy(){g("destroy:",this.$type,this.$name),L(c.event,this._handleEvent),y("component:delete",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),p(this._onDelete?.bind(this)),this.params={},delete this.$root}};function _t(t,...e){if(this.onEvent&&(g("event:",this.$type,this.$name,t,...e),p(this.onEvent?.bind(this.$data||this),t,...e)),!!f(t)){var n=O("on_"+t);this[n]&&(g("event:",this.$type,this.$name,n,...e),p(this[n]?.bind(this.$data||this),...e))}}var U=vt,C="alpine",h;var X=class extends U{static $type=C;constructor(t,e){super(t,e),this.$type=C}init(){super.init(this.$root.parentElement._x_params)}},Et=class extends HTMLElement{connectedCallback(){queueMicrotask(()=>{H(this,this.localName.substr(4))})}};function H(t,e){if(!(f(e)&&(e=T(e),!e))){if(W(t),t._x_params=Object.assign({},e.params),h.onElRemoved(t,()=>{delete t._x_params}),!e.component)h.mutateDom(()=>{D(t,e.template,h.initTree)});else{h.data(e.name,()=>new e.component(e.name));let n=z("div","x-data",e.name);D(n,e.template),h.mutateDom(()=>{t.appendChild(n),h.initTree(n)})}return e}}function xt(t,e){if(b(t)||(t=E(c.$target+" div")),!!t)return typeof e=="number"?t._x_dataStack?.at(e):h.closestDataStack(t)[0]}function Ct(){for(let[t,e]of Object.entries(c.components)){let n=`app-${e?.$tag||t}`;e?.$type!=C||customElements.get(n)||(customElements.define(n,class extends Et{}),h.data(t,()=>new e(t)))}}function Y(t,e,n,r){let i=n.includes("cache"),a={post:n.includes("post")};!e.url&&!(!i&&/^(https?:\/\/|\/|.+\.html(\?|$)).+/.test(e))&&r(t,e)||N(e,a,(s,o,d)=>{if(s||!f(o))return console.warn("$render: Text expected from",e,"got",s,o);let u=f(e)?F(e):e;u.template=o,u.name=u.params?.$name||u.name,i&&(c.templates[u.name]=o),r(t,u)})}function St(t,e,n){let r={},i=a=>{for(let o=0;o<n.length;o++){let d=n[o];switch(d){case"params":var s=h.$data(t);if(!x(s[n[o+1]]))break;a.params=Object.assign(s[n[o+1]],a.params);break;case"inline":r.inline="inline-block";break;default:r[d]=d}}return a};Y(t,e,n,(a,s)=>{if(s=T(s),!!s&&H(a,i(s)))return r.show&&(r.nonempty&&!a.firstChild?a.style.setProperty("display","none",r.important):a.style.setProperty("display",r.flex||r.inline||"block",r.important)),!0})}K(C,{render:H,Component:X,data:xt,init:Ct,default:1});function R(t){h=t,y("alpine:init"),t.magic("app",e=>c),t.magic("params",e=>{for(;e;){if(e._x_params)return e._x_params;e=e.parentElement}}),t.magic("component",e=>t.closestDataStack(e).find(n=>n.$type==C&&n.$name)),t.magic("parent",e=>t.closestDataStack(e).filter(n=>n.$type==C&&n.$name)[1]),t.directive("render",(e,{modifiers:n,expression:r},{evaluate:i,cleanup:a})=>{let s=o=>{let d=i(r);d&&(o.preventDefault(),n.includes("stop")&&o.stopPropagation(),Y(e,d,n,(u,P)=>q(P)))};w(e,"click",s),e.style.cursor="pointer",a(()=>{B(e,"click",s)})}),t.directive("template",(e,{modifiers:n,expression:r},{effect:i,cleanup:a})=>{let s=t.evaluateLater(e,r);var o;let d=()=>{o=null,t.mutateDom(()=>{W(e,u=>t.destroyTree(u)),n.includes("show")&&e.style.setProperty("display","none",n.includes("important")?"important":void 0)})};i(()=>s(u=>{if(!u)return d();u!==o&&St(e,u,n),o=u})),a(d)}),t.directive("scope-level",(e,{expression:n},{evaluate:r})=>{let i=t.closestDataStack(e);e._x_dataStack=i.slice(0,parseInt(r(n||""))||0)})}c.Component=U;var Pt=c;Object.assign(c,I);window.app=c;w(document,"alpine:init",()=>{R(Alpine)});})();
