var c={base:"/app/",$target:"#app-main",index:"index",event:"component:event",templates:{},components:{},isF:d,isS:f,isE:x,isO:b,isN:ot,isA:it,toCamel:O,toNumber:at,call:m,escape:ft,noop:et,log:rt,trace:l,__:nt};function et(){}function l(...t){c.debug&&c.log(...t)}function rt(...t){console.log(...t)}function nt(...t){return t.join("")}function it(t,e){return Array.isArray(t)&&t.length?t:e}function ot(t){return typeof t=="number"?t:void 0}function f(t){return typeof t=="string"&&t}function d(t){return typeof t=="function"&&t}function b(t){return typeof t=="object"&&t}function x(t){return t instanceof HTMLElement&&t}function O(t){return f(t)?t.toLowerCase().replace(/[.:_-](\w)/g,(e,r)=>r.toUpperCase()):""}function at(t,e){var r=0;if(typeof t=="number")r=t;else if(typeof t=="boolean")r=t?1:0;else if(typeof t!="string")r=e?.dflt||0;else{var n=typeof e?.float>"u"||e?.float==null?/^(-|\+)?([0-9]+)?\.[0-9]+$/.test(t):e?.float;r=t[0]=="t"?1:t[0]=="f"?0:t=="infinity"?1/0:n?parseFloat(t,10):parseInt(t,10)}return r=isNaN(r)?e?.dflt||0:r,e&&(typeof e.novalue=="number"&&r===e.novalue&&(r=e.dflt||0),typeof e.incr=="number"&&(r+=e.incr),typeof e.mult=="number"&&(r*=e.mult),isNaN(r)&&(r=e.dflt||0),typeof e.min=="number"&&r<e.min&&(r=e.min),typeof e.max=="number"&&r>e.max&&(r=e.max),typeof e.float<"u"&&!e.float&&(r=Math.round(r)),typeof e.zero=="number"&&!r&&(r=e.zero),typeof e.digits=="number"&&(r=parseFloat(r.toFixed(e.digits))),e.bigint&&typeof r=="number"&&!Number.isSafeInteger(r)&&(r=BigInt(r))),r}function m(t,e,...r){if(d(t))return t(e,...r);if(typeof t=="object"){if(d(e))return e.call(t,...r);if(t&&d(t[e]))return t[e].call(t,...r)}}var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function ft(t){return typeof t!="string"?"":t.replace(/([&<>'":])/g,(e,r)=>st[r]||r)}var h={};function v(t,e,r){d(e)&&(h[t]||(h[t]=[]),h[t].push([e,f(r)]))}function wt(t,e,r){if(!d(e))return;let n=(...i)=>{W(t,n),e(...i)};v(t,n,r)}function vt(t,e,r){h[t]=d(e)?[e,f(r)]:[]}function W(t,e){if(t&&e){if(!h[t])return;let r=d(e)?0:f(e)?1:-1;r>=0&&(h[t]=h[t].filter(n=>n[r]!==e))}else if(f(t))for(let r in h)h[r]=h[r].filter(n=>n[1]!==t)}function g(t,...e){if(l("emit:",t,...e,c.debug>1&&h[t]),h[t])for(let r of h[t])r[0](...e);else if(f(t)&&t.endsWith(":*")){t=t.slice(0,-1);for(let r in h)if(r.startsWith(t))for(let n of h[r])n[0](...e)}}function Ot(t,e){return new URLSearchParams(location.search).get(t)||e||""}var A=t=>t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`);function _(t,e){return f(t)?(x(e)||document).querySelector(A(t)):null}function Pt(t,e){return f(t)?(x(e)||document).querySelectorAll(A(t)):null}function K(t,e,r={}){return t instanceof EventTarget&&t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function y(t,e,r,...n){return d(r)&&t.addEventListener(e,r,...n)}function S(t,e,r,...n){return d(r)&&t.removeEventListener(e,r,...n)}function Tt(t,e,r){if(f(t)&&(t=_(t)),!!x(t))return r===void 0?t.getAttribute(e):r===null?t.removeAttribute(e):t.setAttribute(e,r)}function I(t,e){if(f(t)&&(t=_(t)),!!x(t)){for(;t.firstChild;){let r=t.firstChild;r.remove(),m(e,r)}return t}}function Q(t,...e){var r=document.createElement(t),n,i,o;b(e[0])&&(e=Object.entries(e[0]).flatMap(a=>a),o=e[1]);for(let a=0;a<e.length-1;a+=2)n=e[a],i=e[a+1],f(n)&&(d(i)?y(r,n,i,{capture:o?.capture,passive:o?.passive,once:o?.once,signal:o?.signal}):n.startsWith("-")?r.style[n.substr(1)]=i:n.startsWith(".")?r[n.substr(1)]=i:n.startsWith("data-")?r.dataset[O(n.substr(5))]=i:n=="text"?r.textContent=i||"":i!==null&&r.setAttribute(n,i??""));return r}function ct(t,e){return t=new window.DOMParser().parseFromString(t||"","text/html"),e==="doc"?t:e==="list"?Array.from(t.body.childNodes):t.body}function U(t,e,r){if(f(t)&&(t=_(t)),!x(t))return;let n;if(f(e))n=ct(e,"doc");else if(e?.content?.nodeType==11)n={body:e.content.cloneNode(!0)};else return t;let i;for(;i=n.head?.firstChild;)t.appendChild(i);for(;i=n.body.firstChild;)t.appendChild(i),r&&i.nodeType==1&&m(r,i);return t}var k=[];function z(t){if(k.push(t),document.readyState!="loading")for(;k.length;)setTimeout(m,0,k.shift())}y(window,"DOMContentLoaded",()=>{for(;k.length;)setTimeout(m,0,k.shift())});function q(){var t=document.documentElement.clientWidth;g("dom:changed",{breakPoint:t<576?"xs":t<768?"sm":t<992?"md":t<1200?"lg":t<1400?"xl":"xxl",colorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})}z(()=>{q(),y(window.matchMedia("(prefers-color-scheme: dark)"),"change",q);var t;y(window,"resize",()=>{clearTimeout(t),t=setTimeout(q,250)})});var E={},V;function X(t,e){if(!t||!f(t))throw Error("type must be defined");if(e){for(let n of["render","cleanup","data"])if(e[n]&&!d(e[n]))throw Error(n+" must be a function");d(e?.Component)&&(c[O(`_${t}_component`)]=e.Component)}var r=E[t]=E[t]||{};return e?.default&&(V=r),Object.assign(r,e)}function Mt(t,e){f(t)&&(t=_(t));for(let r in E){if(!E[r].data)continue;let n=E[r].data(t,e);if(n)return n}}function D(t,e){let r=L(t);l("resolve:",t,e,r);var n=r?.name,i=c.templates,o=c.components,a=r.template||i[n]||document.getElementById(n);if(!a&&e&&(a=i[e]||document.getElementById(e),a&&(r.name=e)),f(a)&&a.startsWith("#")?a=document.getElementById(r.otemplate=a.substr(1)):f(a)&&a.startsWith("$")&&(a=i[r.otemplate=a.substr(1)]),!!a){r.template=a;var s=o[n]||o[r.name];return f(s)&&(s=o[r.ocomponent=s]),r.component=s,r}}function F(t,e){var r=D(t,e);if(!r)return;var n=r.params=Object.assign(r.params||{},t?.params);n.$target=t.$target||n.$target||c.$target,l("render:",t,r.name,r.params);let i=x(n.$target)||_(n.$target);if(i){var o=r.component?.$type||t?.plugin||n.$plugin;if(o=E[o]||V,!!o?.render){if(n.$target==c.$target){var a={name:r.name,params:n};if(g(c.event,"prepare:delete",a),a.stop)return;var s=Object.values(E);for(let p of s.filter(u=>u.cleanup))m(p.cleanup,i);t?.$nohistory||n.$nohistory||r.component?.$nohistory||c.$nohistory||queueMicrotask(()=>{g("path:save",r)})}return g("component:render",r),o.render(i,r),r}}}function Nt(t){d(t)&&Y.push(t)}var Y=[];function ut(t){if(t instanceof HTMLElement)for(let e of Y)e(t)}v("alpine:init",()=>{for(let t in E)m(E[t],"init");v("component:create",t=>{x(t?.element)&&ut(t.element)})});function L(t){var e={name:"",params:{}},r,n=window.location;if(b(t))return Object.assign(e,t);if(!f(t))return e;var i=c.base;t.startsWith(n.origin)&&(t=t.substr(n.origin.length)),t.includes("://")&&(t=t.replace(/^(.*:\/\/[^/]*)/,"")),t.startsWith(i)&&(t=t.substr(i.length)),t.startsWith("/")&&(t=t.substr(1)),t==i.slice(1,-1)&&(t="");let o=t.indexOf("?");if(o>0&&(r=t.substr(o+1,1024),e.name=t=t.substr(0,o)),t.endsWith(".html")&&(t=t.slice(0,-5)),t.includes("/")){t=t.split("/").slice(0,7),e.name=t.shift();for(let a=0;a<t.length;a++)t[a]&&(e.params[`param${a+1}`]=t[a])}else e.name=t||"";if(r)for(let[a,s]of new URLSearchParams(r).entries())e.params[a]=s;return e}function pt(t){if(f(t)&&(t={name:t}),!!t?.name){var e=[t.name];if(t?.params)for(let r=1;r<7;r++)e.push(t.params[`param${r}`]||"");for(;!e.at(-1);)e.length--;e=e.join("/"),l("savePath:",e,t),e&&(g("path:push",window.location.origin+c.base+e),window.history.pushState(null,"",window.location.origin+c.base+e))}}function Z(t){l("restorePath:",t,c.index),F(t,c.index)}function Ht(){v("path:save",pt),v("path:restore",Z),z(Z.bind(c,window.location.href))}y(window,"popstate",()=>g("path:restore",window.location.href));var P={method:"GET",cache:"default",headers:{}};function dt(t,e){let r=e?.headers||{},n=Object.assign({headers:r,method:e?.method||e?.post&&"POST"||void 0},e?.request);for(let o in P.headers)r[o]??=P.headers[o];for(let o of["method","cache","credentials","duplex","integrity","keepalive","mode","priority","redirect","referrer","referrerPolicy","signal"])P[o]!==void 0&&(n[o]??=P[o]);var i=e?.body;return n.method=="GET"||n.method=="HEAD"?b(i)&&(t+="?"+new URLSearchParams(i).toString()):f(i)?(n.body=i,r["content-type"]??="application/x-www-form-urlencoded; charset=UTF-8"):i instanceof FormData?(n.body=i,delete r["content-type"]):b(i)?(n.body=JSON.stringify(i),r["content-type"]="application/json; charset=UTF-8"):i&&(n.body=i,r["content-type"]??="application/octet-stream"),[t,n]}function mt(t){let e={status:t.status,headers:{},type:t.type,url:t.url,redirected:t.redirected};for(let i of t.headers)e.headers[i[0].toLowerCase()]=i[1];let r=P.csrfHeader||"x-csrf-token",n=e?.headers[r];return n&&(n<=0?delete P.headers[r]:P.headers[r]=n),e}function H(t,e,r){d(e)&&(r=e,e=null);try{let[n,i]=dt(t,e);l("fetch:",n,i,e),window.fetch(n,i).then(async o=>{var a,s,p=mt(o),u=p.headers["content-type"];if(!o.ok){if(/\/json/.test(u)){let C=await o.json();a={status:o.status};for(let j in C)a[j]=C[j]}else a={message:await o.text(),status:o.status};return m(r,a,s,p)}switch(e?.dataType){case"text":s=await o.text();break;case"blob":s=await o.blob();break;default:s=/\/json/.test(u)?await o.json():/image|video|audio|pdf|zip|binary|octet/.test(u)?await o.blob():await o.text()}m(r,null,s,p)}).catch(o=>{m(r,o)})}catch(n){m(r,n)}}function Gt(t,e){return new Promise((r,n)=>{H(t,e,(i,o,a)=>{r({ok:!i,status:a.status,err:i,data:o,info:a})})})}var R=class{params={};constructor(e,r){this.$name=e,Object.assign(this.params,r),this._handleEvent=lt.bind(this),this._onCreate=this.onCreate||null,this._onDelete=this.onDelete||null}init(e){l("init:",this.$type,this.$name),Object.assign(this.params,e),g("component:create",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),this.params.$noevents||v(c.event,this._handleEvent),m(this._onCreate?.bind(this,this.params))}destroy(){l("destroy:",this.$type,this.$name),W(c.event,this._handleEvent),g("component:delete",{type:this.$type,name:this.$name,component:this,element:this.$el,params:this.params}),m(this._onDelete?.bind(this)),this.params={},delete this.$root}};function lt(t,...e){if(this.onEvent&&(l("event:",this.$type,this.$name,t,...e),m(this.onEvent?.bind(this.$data||this),t,...e)),!!f(t)){var r=O("on_"+t);this[r]&&(l("event:",this.$type,this.$name,r,...e),m(this[r]?.bind(this.$data||this),...e))}}var M=R;var T="alpine",w,N=class extends M{static $type=T;constructor(e,r){super(e,r),this.$type=T}init(){super.init(this.$root.parentElement._x_params)}},B=class extends HTMLElement{connectedCallback(){queueMicrotask(()=>{G(this,this.localName.substr(4))})}};function G(t,e){if(!(f(e)&&(e=D(e),!e))){if(I(t),t._x_params=Object.assign({},e.params),w.onElRemoved(t,()=>{delete t._x_params}),!e.component)w.mutateDom(()=>{U(t,e.template,w.initTree)});else{w.data(e.name,()=>new e.component(e.name));let r=Q("div","x-data",e.name);U(r,e.template),w.mutateDom(()=>{t.appendChild(r),w.initTree(r)})}return e}}function ht(t,e){if(x(t)||(t=_(c.$target+" div")),!!t)return typeof e=="number"?t._x_dataStack?.at(e):w.closestDataStack(t)[0]}function gt(){for(let[t,e]of Object.entries(c.components)){let r=`app-${e?.$tag||t}`;e?.$type!=T||customElements.get(r)||(customElements.define(r,class extends B{}),w.data(t,()=>new e(t)))}}function tt(t,e,r,n){let i=r.includes("cache"),o={post:r.includes("post")};!e.url&&!(!i&&/^(https?:\/\/|\/|.+\.html(\?|$)).+/.test(e))&&n(t,e)||H(e,o,(a,s,p)=>{if(a||!f(s))return console.warn("$render: Text expected from",e,"got",a,s);let u=f(e)?L(e):e;u.template=s,u.name=u.params?.$name||u.name,i&&(c.templates[u.name]=s),n(t,u)})}function yt(t,e,r){let n={},i=o=>{for(let s=0;s<r.length;s++){let p=r[s];switch(p){case"params":var a=w.$data(t);if(!b(a[r[s+1]]))break;o.params=Object.assign(a[r[s+1]],o.params);break;case"inline":n.inline="inline-block";break;default:n[p]=p}}return o};tt(t,e,r,(o,a)=>{if(a=D(a),!!a&&G(o,i(a)))return n.show&&(n.nonempty&&!o.firstChild?o.style.setProperty("display","none",n.important):o.style.setProperty("display",n.flex||n.inline||"block",n.important)),!0})}X(T,{render:G,Component:N,data:ht,init:gt,default:1});function xt(t){w=t,g("alpine:init"),t.magic("app",e=>c),t.magic("params",e=>{for(;e;){if(e._x_params)return e._x_params;e=e.parentElement}}),t.magic("component",e=>t.closestDataStack(e).find(r=>r.$type==T&&r.$name)),t.magic("parent",e=>t.closestDataStack(e).filter(r=>r.$type==T&&r.$name)[1]),t.directive("render",(e,{modifiers:r,expression:n},{evaluate:i,cleanup:o})=>{let a=s=>{let p=i(n);p&&(s.preventDefault(),r.includes("stop")&&s.stopPropagation(),tt(e,p,r,(u,C)=>F(C)))};y(e,"click",a),e.style.cursor="pointer",o(()=>{S(e,"click",a)})}),t.directive("template",(e,{modifiers:r,expression:n},{effect:i,cleanup:o})=>{let a=t.evaluateLater(e,n);var s;let p=()=>{s=null,t.mutateDom(()=>{I(e,u=>t.destroyTree(u)),r.includes("show")&&e.style.setProperty("display","none",r.includes("important")?"important":void 0)})};i(()=>a(u=>{if(!u)return p();u!==s&&yt(e,u,r),s=u})),o(p)}),t.directive("scope-level",(e,{expression:r},{evaluate:n})=>{let i=t.closestDataStack(e);e._x_dataStack=i.slice(0,parseInt(n(r||""))||0)}),t.directive("droppable",(e,{expression:r},{evaluate:n,cleanup:i})=>{let o=n(r);var a=null;y(e,"click",s),y(e,"drop",p),y(e,"dragdrop",p),y(e,"dragenter",u),y(e,"dragleave",C),y(e,"dragover",j),i(()=>{S(e,"click",s),S(e,"drop",p),S(e,"dragdrop",p),S(e,"dragenter",u),S(e,"dragleave",C),S(e,"dragover",j)});function s($){_('[type="file"]',e).click()}function p($){$.preventDefault();var J=$.dataTransfer.files[0];K(e,"file:dropped",{file:J,event:$}),g(c.event,"file:dropped",{file:J,event:$,target:o,element:e}),o.dragging=0}function u($){a=$.target,o.dragging=1}function C($){$.target===a&&(o.dragging=0)}function j($){$.preventDefault(),o.dragging=1}})}c.Component=M;var fe=c;export{_ as $,Pt as $all,U as $append,Tt as $attr,Mt as $data,Q as $elem,I as $empty,K as $event,S as $off,y as $on,Ot as $param,ct as $parse,z as $ready,N as AlpineComponent,xt as AlpinePlugin,M as Component,nt as __,Gt as afetch,c as app,m as call,fe as default,g as emit,ft as escape,H as fetch,P as fetchOptions,it as isArray,x as isElement,d as isFunction,ot as isNumber,b as isObject,f as isString,rt as log,et as noop,W as off,v as on,wt as once,vt as only,L as parsePath,X as register,F as render,D as resolve,Z as restorePath,pt as savePath,Ht as start,Nt as stylePlugin,O as toCamel,at as toNumber,l as trace};
